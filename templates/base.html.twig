<!doctype html>
<html lang="en" data-theme="light">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>{{ app_name|default('Blogify') }}</title>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
		<link
		rel="icon" href="{{ asset('icons/favicon.ico') }}">

		{# Tailwind CSS + DaisyUI #}
		<link href="https://cdn.jsdelivr.net/npm/daisyui@4.4.19/dist/full.min.css" rel="stylesheet" type="text/css"/>
		<script src="https://cdn.tailwindcss.com"></script>

		{# Alpine.js for interactivity #}
		<script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

		{# Lucide Icons #}
		<script src="https://unpkg.com/lucide@latest"></script>

		<script>
			tailwind.config = {
theme: {
extend: {
fontFamily: {
sans: ['Inter', 'sans-serif']
},
colors: {
teal: {
50: '#f0fdfa',
100: '#ccfbf1',
500: '#14b8a6',
600: '#0d9488',
700: '#0f766e'
},
cyan: {
500: '#06b6d4',
600: '#0891b2'
}
}
}
},
daisyui: {
themes: ["light"]
}
}
		</script>
		<style>
			body {
				font-family: 'Inter', sans-serif;
				scroll-behavior: smooth;
			}
			[x-cloak] {
				display: none !important;
			}
			.dropdown-content {
				z-index: 50 !important;
			}
			.overflow-x-auto {
				scrollbar-gutter: stable;
				overflow-y: visible !important;
			}

			/* Premium Transitions */
			.btn {
				transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
			}
			.btn:active {
				transform: scale(0.95);
			}

			/* Loading States */
			.btn-loading {
				position: relative;
				color: transparent !important;
				pointer-events: none;
			}
			.btn-loading::after {
				content: "";
				position: absolute;
				width: 1.25rem;
				height: 1.25rem;
				top: 50%;
				left: 50%;
				margin-top: -0.625rem;
				margin-left: -0.625rem;
				border-radius: 50%;
				border: 2px solid currentColor;
				border-right-color: transparent;
				animation: spin 0.6s linear infinite;
			}
			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}

			/* Hover animations for cards */
			.hover-lift {
				transition: transform 0.2s ease, shadow 0.2s ease;
			}
			.hover-lift:hover {
				transform: translateY(-4px);
				box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
			}

			/* Scroll Reveal Animations */
			.scroll-reveal {
				opacity: 0;
				transition: opacity 0.6s ease, transform 0.6s ease;
			}
			.scroll-reveal.revealed {
				opacity: 1;
			}

			.fade-in-up {
				transform: translateY(30px);
			}
			.fade-in-up.revealed {
				transform: translateY(0);
			}

			.fade-in-down {
				transform: translateY(-30px);
			}
			.fade-in-down.revealed {
				transform: translateY(0);
			}

			.fade-in-left {
				transform: translateX(-30px);
			}
			.fade-in-left.revealed {
				transform: translateX(0);
			}

			.fade-in-right {
				transform: translateX(30px);
			}
			.fade-in-right.revealed {
				transform: translateX(0);
			}

			/* Staggered animations */
			.stagger-1 { transition-delay: 0.1s; }
			.stagger-2 { transition-delay: 0.2s; }
			.stagger-3 { transition-delay: 0.3s; }
			.stagger-4 { transition-delay: 0.4s; }
			.stagger-5 { transition-delay: 0.5s; }
			.stagger-6 { transition-delay: 0.6s; }

			/* Parallax effect */
			.parallax-bg {
				transition: transform 0.3s ease-out;
			}

			/* Counter animation */
			@keyframes countUp {
				from { opacity: 0; transform: translateY(20px); }
				to { opacity: 1; transform: translateY(0); }
			}
			.counter-animate {
				animation: countUp 0.6s ease-out;
			}

			/* Gradient text effect */
			.gradient-text {
				background: linear-gradient(135deg, #0d9488 0%, #06b6d4 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}

			/* Enhanced card hover with scale */
			.hover-scale {
				transition: transform 0.3s ease, box-shadow 0.3s ease;
			}
			.hover-scale:hover {
				transform: scale(1.03);
				box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.15);
			}

			/* Text Rotation Animation */
			.text-rotate {
				display: inline-block;
				position: relative;
				vertical-align: top;
				min-width: 200px;
			}
			.text-rotate .word {
				position: absolute;
				left: 0;
				top: 0;
				opacity: 0;
				animation: rotateWord 12s infinite;
				background: linear-gradient(135deg, #0d9488 0%, #06b6d4 100%);
				-webkit-background-clip: text;
				-webkit-text-fill-color: transparent;
				background-clip: text;
			}
			.text-rotate .word:nth-child(1) { animation-delay: 0s; }
			.text-rotate .word:nth-child(2) { animation-delay: 3s; }
			.text-rotate .word:nth-child(3) { animation-delay: 6s; }
			.text-rotate .word:nth-child(4) { animation-delay: 9s; }

			@keyframes rotateWord {
				0% { opacity: 0; transform: translateY(100%); }
				2% { opacity: 1; transform: translateY(0); }
				23% { opacity: 1; transform: translateY(0); }
				25% { opacity: 0; transform: translateY(-100%); }
				100% { opacity: 0; transform: translateY(-100%); }
			}
		</style>
	</head>
	<body class="bg-gray-50 text-gray-900 antialiased min-h-screen flex flex-col">
		<header class="bg-white/90 backdrop-blur-md border-b border-gray-200 sticky top-0 z-50">
			<div class="container mx-auto px-4 h-16 flex items-center justify-between">
				<div class="flex items-center gap-8">
					<a href="{{ path('app_home') }}" class="flex items-center gap-2 no-underline text-teal-600 hover:text-teal-700 transition">
						<i data-lucide="pen-tool" class="w-6 h-6"></i>
						<span class="font-bold text-xl tracking-tight text-gray-900">Blogify</span>
					</a>

					<nav class="hidden md:flex items-center gap-6 text-sm font-medium text-gray-600">
						<a href="{{ path('app_home') }}" class="hover:text-teal-600 transition">Home</a>
						<a href="{{ path('blog_index') }}" class="hover:text-teal-600 transition">Blog</a>
					</nav>
				</div>

				<div class="flex items-center gap-4">
					{% if app.user %}
						<div class="dropdown dropdown-end" x-data>
							<div tabindex="0" role="button" class="btn btn-ghost btn-circle avatar placeholder">
								<div class="bg-teal-100 text-teal-700 rounded-full w-10">
									<span class="text-lg font-semibold">{{ app.user.email|first|upper }}</span>
								</div>
							</div>
							<ul tabindex="0" class="mt-3 z-[1] p-2 shadow-lg menu menu-sm dropdown-content bg-base-100 rounded-box w-52 border border-gray-100">
								<li class="menu-title px-4 py-2 text-xs text-gray-400 uppercase font-bold">
									{{ app.user.name }}
								</li>
								{% if is_granted('ROLE_ADMIN') %}
									<li>
										<a href="{{ path('admin_dashboard') }}">
											<i data-lucide="layout-dashboard" class="w-4 h-4"></i>
											Admin Dashboard</a>
									</li>
								{% endif %}
								{% if is_granted('ROLE_AUTHOR') %}
									<li>
										<a href="{{ path('author_dashboard') }}">
											<i data-lucide="pen-square" class="w-4 h-4"></i>
											Author Dashboard</a>
									</li>
								{% endif %}
								<li>
									<a href="{{ is_granted('ROLE_ADMIN') ? path('admin_profile') : path('author_profile') }}">
										<i data-lucide="user" class="w-4 h-4"></i>
										Profile</a>
								</li>
								<div class="divider my-1"></div>
								<li>
									<a href="{{ path('app_logout') }}" class="text-red-600 hover:bg-red-50">
										<i data-lucide="log-out" class="w-4 h-4"></i>
										Logout</a>
								</li>
							</ul>
						</div>
					{% else %}
						<a href="{{ path('app_login') }}" class="btn btn-ghost btn-sm font-medium">Sign In</a>
						<a href="{{ path('app_register') }}" class="btn btn-primary btn-sm bg-teal-600 hover:bg-teal-700 border-none text-white font-medium">Get Started</a>
					{% endif %}
				</div>
			</div>
		</header>

		<main class="flex-grow container mx-auto px-4 py-8">
			{% for label, messages in app.flashes %}
				{% for message in messages %}
					<div x-data="{ show: true }" x-show="show" x-transition.opacity.duration.500ms x-init="setTimeout(() => show = false, 5000)" class="alert {{ label == 'error' ? 'alert-error' : 'alert-success' }} mb-6 shadow-sm rounded-lg">
						<i data-lucide="{{ label == 'error' ? 'alert-circle' : 'check-circle' }}" class="w-6 h-6"></i>
						<span>{{ message }}</span>
					</div>
				{% endfor %}
			{% endfor %}

			{% block body %}{% endblock %}
		</main>

		<footer class="footer footer-center p-10 bg-gray-50 text-base-content border-t border-gray-200 mt-auto">
			<aside>
				<div class="flex items-center gap-2 mb-2 text-teal-600">
					<i data-lucide="pen-tool" class="w-6 h-6"></i>
					<span class="font-bold text-xl text-gray-900">Blogify</span>
				</div>
				<p class="font-medium text-gray-500">
					Copyright Â©
					{{ 'now'|date('Y') }}
					- All right reserved
				</p>
			</aside>
		</footer>

		<script>
			lucide.createIcons();

// Global Form Loading States
document.querySelectorAll('form').forEach(form => {
form.addEventListener('submit', (e) => {
const submitBtn = form.querySelector('button[type="submit"]');
if (submitBtn && ! submitBtn.classList.contains('no-loader')) { // Slight delay to allow for validation
setTimeout(() => {
submitBtn.classList.add('btn-loading');
}, 50);
}
});
});

// Scroll Reveal Animation System
const scrollRevealObserver = new IntersectionObserver((entries) => {
	entries.forEach(entry => {
		if (entry.isIntersecting) {
			entry.target.classList.add('revealed');
		}
	});
}, {
	threshold: 0.1,
	rootMargin: '0px 0px -50px 0px'
});

// Observe all scroll-reveal elements
document.addEventListener('DOMContentLoaded', () => {
	document.querySelectorAll('.scroll-reveal').forEach(el => {
		scrollRevealObserver.observe(el);
	});

	// Counter Animation
	const animateCounter = (element) => {
		const target = parseInt(element.getAttribute('data-target'));
		const duration = 2000;
		const step = target / (duration / 16);
		let current = 0;

		const updateCounter = () => {
			current += step;
			if (current < target) {
				element.textContent = Math.floor(current).toLocaleString();
				requestAnimationFrame(updateCounter);
			} else {
				element.textContent = target.toLocaleString();
			}
		};

		element.classList.add('counter-animate');
		updateCounter();
	};

	// Counter Observer
	const counterObserver = new IntersectionObserver((entries) => {
		entries.forEach(entry => {
			if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
				entry.target.classList.add('counted');
				animateCounter(entry.target);
			}
		});
	}, { threshold: 0.5 });

	document.querySelectorAll('.counter').forEach(counter => {
		counterObserver.observe(counter);
	});

	// Parallax Scroll Effect
	let ticking = false;
	window.addEventListener('scroll', () => {
		if (!ticking) {
			window.requestAnimationFrame(() => {
				const scrolled = window.pageYOffset;
				document.querySelectorAll('.parallax-bg').forEach(el => {
					const speed = el.getAttribute('data-speed') || 0.5;
					el.style.transform = `translateY(${scrolled * speed}px)`;
				});
				ticking = false;
			});
			ticking = true;
		}
	});
});
		</script>
	</body>
</html>
