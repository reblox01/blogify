{% extends 'base.html.twig' %}

{% block body %}
	<div class="flex flex-col md:flex-row min-h-[calc(100vh-8rem)]">
		<style>
			/* Force the admin content to grow to its full height without trapping children */
			.admin-table-container {
				height: auto !important;
				max-height: none !important;
				overflow: visible !important;
			}
		</style>
		{# Sidebar (Desktop) #}
		<aside class="w-64 bg-white border-r border-gray-200 hidden md:block rounded-l-lg shadow-sm">
			<div class="p-6">
				<h2 class="text-xs font-bold text-gray-400 uppercase tracking-wider mb-4">Admin Panel</h2>
				<nav class="space-y-1">
					<a href="{{ path('admin_dashboard') }}" class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg {{ app.request.get('_route') == 'admin_dashboard' ? 'bg-teal-50 text-teal-700' : 'text-gray-600 hover:bg-gray-50' }} transition-colors">
						<i data-lucide="layout-dashboard" class="w-5 h-5"></i>
						Dashboard
					</a>
					<a href="{{ path('admin_users') }}" class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg {{ 'admin_users' in app.request.get('_route') ? 'bg-teal-50 text-teal-700' : 'text-gray-600 hover:bg-gray-50' }} transition-colors">
						<i data-lucide="users" class="w-5 h-5"></i>
						Users
					</a>
					<a href="{{ path('admin_posts') }}" class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg {{ 'admin_posts' in app.request.get('_route') ? 'bg-teal-50 text-teal-700' : 'text-gray-600 hover:bg-gray-50' }} transition-colors">
						<i data-lucide="file-text" class="w-5 h-5"></i>
						All Posts
					</a>
					<a href="#" class="flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-lg text-gray-600 hover:bg-gray-50 transition-colors">
						<i data-lucide="settings" class="w-5 h-5"></i>
						Settings
					</a>
				</nav>
			</div>
		</aside>

		{# Mobile Bottom Navigation #}
		<nav class="fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 px-6 py-3 flex justify-between items-center z-[100] md:hidden shadow-[0_-4px_10px_rgba(0,0,0,0.05)]">
			<a href="{{ path('admin_dashboard') }}" class="flex flex-col items-center gap-1 {{ app.request.get('_route') == 'admin_dashboard' ? 'text-teal-600' : 'text-gray-400' }}">
				<i data-lucide="layout-dashboard" class="w-6 h-6"></i>
				<span class="text-[10px] font-bold">Dash</span>
			</a>
			<a href="{{ path('admin_users') }}" class="flex flex-col items-center gap-1 {{ 'admin_users' in app.request.get('_route') ? 'text-teal-600' : 'text-gray-400' }}">
				<i data-lucide="users" class="w-6 h-6"></i>
				<span class="text-[10px] font-bold">Users</span>
			</a>
			<a href="{{ path('admin_posts') }}" class="flex flex-col items-center gap-1 {{ 'admin_posts' in app.request.get('_route') ? 'text-teal-600' : 'text-gray-400' }}">
				<i data-lucide="file-text" class="w-6 h-6"></i>
				<span class="text-[10px] font-bold">Posts</span>
			</a>
			<a href="#" class="flex flex-col items-center gap-1 text-gray-400">
				<i data-lucide="settings" class="w-6 h-6"></i>
				<span class="text-[10px] font-bold">Settings</span>
			</a>
		</nav>

		{# Main Content #}
		<div class="flex-1 bg-white p-4 md:p-8 md:rounded-r-lg shadow-sm pb-32 admin-table-container">
			{% block admin_content %}{% endblock %}
		</div>
	</div>
{% endblock %}
